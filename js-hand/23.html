<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
</head>

<body>
    <script>
        const jsonp = ({url,params,callbackName})=>{
            const generateUrl = ()=>{
                let dataSrc =''
                for(let key in params){
                   if(params.hasOwnProperty(key)){
                    dataSrc += `${key}=${params[key]}`
                   }
                }
                dataSrc +=`callback=${callbackName}`
            }
            return new Promise((resolve,reject)=>{
                const srcriptEle = document.createElement('script')
                srcriptEle.src = generateUrl()
                document.body.appendChild(scriptEle)
                window[calbackName] = data=>{
                    resolve(data)
                    document.removeChild(Ele)
                }
            })
        }
    </script>
</body>

</html>